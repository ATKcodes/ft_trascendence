<html lang="en">
  <head>
    <!-- Bootstrap CSS -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css"
    />
    <link rel="stylesheet" href="styles.css" />
    <link
      rel="stylesheet"
      href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css"
    />
    <title>PONG</title>
    <style>
      .select-language{
        background-color: #B6A999;
        color: #000000;
        position: absolute;
        right: 8%;
        top: 5%;
        width: 4%;
        padding : 0.5%;
        margin: 0 auto;
        text-align: left;
      }
      .div-friends{
        position: absolute;
        right: 3%;
        bottom: 5%;
        width: 20%;
        padding : 0.5%;
        margin: 0 auto;
        text-align: center;
      
      }
      .div-title {
          font-family: 'font-Despairs';
          font-size: 500%; /* Change this to move the div horizontally */
          position: absolute;
          left: 45%; /* Change this to move the div horizontally */
          right: 2%;
          top: 3%; /* Change this to move the div vertically */
          width: 15%;
          padding : 1%;
          color: black;
        }
      .div-friendsmenu {
        position: absolute;
        right: 5%;
        bottom: 3%;
        width: 15%;
        height: 40%;
        padding : 1%;
        margin: 0 auto;
        text-align: center;
        background-color: #B6A999;
      }
      .game 
      {
        position: absolute;
        width: 96%;
        height: 75%;
        left: 2%;
        right: 2%;
        top: 20%;
        bottom: 10%;
        background-color: #000000;
        color: #ffffff;
      }
      .btn-primary {
        font-weight: lighter;
        font-size :110%;
        background-color: #000000;
        color: #ffffff;
        position: absolute;
        left: 40%;
        top: 45%;
        width: 20%;
        padding : 0.5%;
        margin: 0 auto;
        text-align: center;
        border-color: #ffffff;
      }
      .open_text {
        font-size: 200%;
        text-align: center;
        position: absolute;
        width: 60%;
        height: 75%;
        left: 20%;
        right: 2%;
        top: 20%;
        bottom: 10%;
        background-color: #000000;
        color: #ffffff;
      }
      .select {
        background-image: url('download.jpeg');
        border-radius: 50%;
        color: #000000;
        position: absolute;
        left: 3%;
        top: 5%;
        padding : 0.5%;
        margin: 0 auto;
        text-align: left;
      }
      .navbar {
        padding: 10px;
        background: #000;
        position: fixed;
        top: 30px;
        left: 30px;
        z-index: 90;
        cursor: pointer;
      }
      .icon-bar {
        background-image: url('download.jpeg');
        border-radius: 50%;
        color: #000000;
        position: absolute;
        left: 3%;
        top: 5%;
        padding : 0.5%;
        margin: 0 auto;
        text-align: left;
      }
      nav {
        width: 20%;
        height: 100%;
        position: fixed;
        top: 0;
        left: 0;
        background: #4F4537;
        z-index: 69;
        transition: .3s;
        transform: translateX(-100%);
      }
      .wide{
        transform: translateX(0);
      }
      nav ul {
        list-style: none;
        padding: 60px;		
      }
      nav li {
        font-size: 30px;
        color: #ffffff;
      }
      </style>
    <!-- Bootstrap JS -->
  </head>
  <body>
    <div class="navbar">
      <img class="icon-bar"></img>
    </div>
    <nav class="nav">
      <ul>
        <li style="margin-top: 10%;">Mvolpi</li>
        <li id="go_to_profile" style="margin-top: 5%;">Profilo</li>
        <li style="margin-top: 5%;" id="amici">Amici</li>
        <li id = "go_to_login"style="margin-top: 250%;">Logout</li>
      </ul>
    </nav>
    <h2 class="div-title">PONG</h2>
<select class="select-language rounded-pill">
  <option value="EN">EN</option>
  <option value="IT">IT</option>
  <option value="VE">VE</option>
</select>
<script>
  // Ottieni il riferimento al tuo elemento select
  var selectLanguage = document.querySelector('.select-language');

  // Aggiungi un event listener per l'evento 'change'
  selectLanguage.addEventListener('change', function() {
    // Quando l'utente seleziona una nuova lingua, salvala nel localStorage
    localStorage.setItem('language', this.value);

    // Aggiorna il testo sulla pagina
    updateText(this.value);
  });

  // Funzione per aggiornare il testo sulla pagina
  function updateText(language) {
    if (language == 'IT') {
      document.getElementById('go_to_profile').innerText = 'Profilo';
      document.getElementById('amici').innerText = 'Amici';
      document.getElementById('go_to_login').innerText = 'Esci';
      document.getElementById('go_to_game').innerText = 'Gioca';
    } else if (language == 'EN') {
      document.getElementById('go_to_profile').innerText = 'Profile';
      document.getElementById('amici').innerText = 'Friends';
      document.getElementById('go_to_login').innerText = 'Logout';
      document.getElementById('go_to_game').innerText = 'Play';
    } else if (language == 'VE') {
      document.getElementById('go_to_profile').innerText = 'Perfil';
      document.getElementById('amici').innerText = 'Amigos';
      document.getElementById('go_to_login').innerText = 'Salir';
      document.getElementById('go_to_game').innerText = 'Jugar';
    }
  }

  // Aggiorna il testo sulla pagina con la lingua salvata nel localStorage quando la pagina viene caricata
  var savedLanguage = localStorage.getItem('language');
  if (savedLanguage) {
    updateText(savedLanguage);
  }
</script>
        <script>
            document.getElementById("go_to_login").addEventListener("click", function() {
            localStorage.setItem('lastPage', "login");
            window.parent.goToLogin();
        });
        </script>
      </div>
      </div>
    <script>
      document.getElementById("go_to_profile").addEventListener("click", function() {
        localStorage.setItem('lastPage', "profile");
        window.parent.goToProfile();
      });
    </script>
    <div class="game">
      <button id = "go_to_game" type="button" class="btn btn-primary btn-lg btn-block">
        Play
      </button>
      <script>
        document.getElementById("go_to_game").addEventListener("click", function() {
          localStorage.setItem('lastPage', "profile");
          window.parent.goToGame();
        });
      </script>
    </div>

  </body>

  <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  <script>
    $(document).ready(function(){
      $('.navbar').click(function(){
        $('.nav').toggleClass('wide');
      });
    });
    let variabileBooleana = false;
  
    document.getElementById('amici').addEventListener('click', function() {
      variabileBooleana = !variabileBooleana;
      console.log(variabileBooleana);
  });
    </script>
</html>
