<!DOCTYPE html>
<html>
	<head>
		<title>PONG</title>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0"> 
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
		<link rel="stylesheet" href="styles.css">
	</head>
	<body style="height: 100vh;"> <!-- Set the body height to 100vh -->
        <iframe id="login" src="login.html" style="height: 100%; width: 100%; border: none;"></iframe>
        <iframe id="main-page" src="main-page.html" style="height: 100%; width: 100%; border: none; display: none;"></iframe>
        <iframe id ="profile" src="profile.html" style="height: 100%; width: 100%; border: none; display: none;"></iframe>
		<iframe id ="game-page" src="game-page.html" style="height: 100%; width: 100%; border: none; display: none;"></iframe>
		<script>
		function goToMain() {
			document.getElementById("login").style.display = "none";
			document.getElementById("main-page").style.display = "block";
			document.getElementById("profile").style.display = "none";
			document.getElementById("game-page").style.display = "none";

			// Change the URL to 'main-page.html'
			history.pushState({page: 'main-page'}, null, 'main-page.html');
		}

		// Handle the back and forward navigation
		window.onpopstate = function(event) {
			if (event.state) {
				// Hide all iframes
				document.getElementById("login").style.display = "none";
				document.getElementById("main-page").style.display = "none";
				document.getElementById("profile").style.display = "none";
				document.getElementById("game-page").style.display = "none";

				// Show the iframe of the current page
				document.getElementById(event.state.page).style.display = "block";
			}
		};
		function goToProfile() {
			document.getElementById("game-page").style.display = "none";
			document.getElementById("main-page").style.display = "none";
			document.getElementById("profile").style.display = "block";
	
			// Change the URL to 'profile.html'
			history.pushState({page: 'profile'}, null, 'profile.html');
  		}
		function goToGame() {
			document.getElementById("main-page").style.display = "none";
			document.getElementById("game-page").style.display = "block";

	        // Change the URL to 'game-page.html'
			history.pushState({page: 'game-page'}, null, 'game-page.html');
		}
		function goToLogin() {
			document.getElementById("main-page").style.display = "none";
			document.getElementById("login").style.display = "block";

	        // Change the URL to 'game-page.html'
			history.pushState({page: 'login'}, null, 'login.html');
		}

    	window.onload = function() {
        	// Change the URL to 'login.html'
        	history.replaceState({page: 'spa-manager'}, null, 'login.html');
    	};

    	// Handle the back and forward navigation
    	window.onpopstate = function(event) {
        	if (event.state) {
            	// If the user navigates back to the 'spa-manager' page, change the URL to 'login.html'
            	if (event.state.page === 'spa-manager') {
                	history.replaceState({page: 'spa-manager'}, null, 'login.html');
            	}
        	}
    	};
		    // Handle the back and forward navigation
			window.onpopstate = function(event) {
        if (event.state) {
            // Hide all pages
            document.getElementById("game-page").style.display = "none";
            document.getElementById("main-page").style.display = "none";
            document.getElementById("profile").style.display = "none";
            document.getElementById("login").style.display = "none";

            // Show the page based on the state object
            if (event.state.page === 'spa-manager') {
                history.replaceState({page: 'spa-manager'}, null, 'login.html');
                document.getElementById("login").style.display = "block";
            } else if (event.state.page === 'profile') {
                document.getElementById("profile").style.display = "block";
            } else if (event.state.page === 'game-page') {
                document.getElementById("game-page").style.display = "block";
            } else if (event.state.page === 'login') {
                document.getElementById("login").style.display = "block";
            } else if (event.state.page === 'main-page') {
                document.getElementById("main-page").style.display = "block";
            }
        }
    };
        </script>
  </body>
</html>