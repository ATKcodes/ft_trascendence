<html lang="en">
  <head>
    <title>PONG</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css"
    />
    <link rel="stylesheet" href="styles.css" />
    <link
      rel="stylesheet"
      href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css"
    />
    <style>
      .div-title {
        font-family: "font-Despairs";
        font-size: 250%;
        position: absolute;
        left: 45%;
        right: 2%;
        top: 0%;
        width: 15%;
        padding: 1%;
        color: black;
      }
      .div-friendsmenu {
        position: absolute;
        right: 5%;
        bottom: 3%;
        width: 15%;
        height: 40%;
        padding: 1%;
        margin: 0 auto;
        text-align: center;
        background-color: #b6a999;
      }
      .avatar {
        position: relative;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        overflow: hidden;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .avatar img {
        width: 100%;
        height: auto;
      }
      .btn-left {
        font-weight: lighter;
        font-size: 110%;
        background-color: #000000;
        color: #ffffff;
        position: absolute;
        left: 20%;
        top: 45%;
        width: 20%;
        padding: 0.5%;
        margin: 0 auto;
        text-align: center;
        border-color: #ffffff;
      }
      .btn-left-top {
        font-weight: lighter;
        font-size: 110%;
        background-color: #000000;
        color: #ffffff;
        position: absolute;
        left: 20%;
        top: 40%;
        width: 20%;
        padding: 0.5%;
        margin: 0 auto;
        text-align: center;
        border-color: #ffffff;
      }
      .btn-left-bottom {
        font-weight: lighter;
        font-size: 110%;
        background-color: #000000;
        color: #ffffff;
        position: absolute;
        left: 20%;
        top: 50%;
        width: 20%;
        padding: 0.5%;
        margin: 0 auto;
        text-align: center;
        border-color: #ffffff;
      }
      .btn-right-top {
        font-weight: lighter;
        font-size: 110%;
        background-color: #000000;
        color: #ffffff;
        position: absolute;
        right: 20%;
        top: 40%;
        width: 20%;
        padding: 0.5%;
        margin: 0 auto;
        text-align: center;
        border-color: #ffffff;
      }
      .btn-right-bottom {
        font-weight: lighter;
        font-size: 110%;
        background-color: #000000;
        color: #ffffff;
        position: absolute;
        right: 20%;
        top: 50%;
        width: 20%;
        padding: 0.5%;
        margin: 0 auto;
        text-align: center;
        border-color: #ffffff;
      }
      .btn-right {
        font-weight: lighter;
        font-size: 110%;
        background-color: #000000;
        color: #ffffff;
        position: absolute;
        right: 20%;
        top: 45%;
        width: 20%;
        padding: 0.5%;
        margin: 0 auto;
        text-align: center;
        border-color: #ffffff;
      }
      .btn-nohover:hover {
        visibility: visible !important;
        opacity: 1 !important;
      }
      .open_text {
        font-size: 200%;
        text-align: center;
        position: absolute;
        width: 60%;
        height: 75%;
        left: 20%;
        right: 2%;
        top: 20%;
        bottom: 10%;
        background-color: #000000;
        color: #ffffff;
      }
      .select {
        background-image: url("download.jpeg");
        border-radius: 50%;
        color: #000000;
        position: absolute;
        left: 3%;
        top: 5%;
        padding: 0.5%;
        margin: 0 auto;
        text-align: left;
      }
      .dropdown {
        position: relative;
        display: flex;
        top: 5%;
      }
      .dropdown-menu {
        display: none;
        position: absolute;
        background-color: #f9f9f9;
        min-width: 160px;
        box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
        z-index: 1;
      }
      .dialog {
        display: none;
        background-color: #f9f9f9;
      }
      .userleft {
        position: absolute;
        left: 5%;
        top: 2.5%;
        padding: 0.5%;
        margin: 0 auto;
        text-align: center;
      }
      .userright {
        position: absolute;
        right: 5%;
        top: 2.5%;
        padding: 0.5%;
        margin: 0 auto;
        text-align: center;
      }
      #tris-game {
        position: relative;
        width: 96%;
        height: 90%;
        left: 2%;
        right: 2%;
        top: 8%;
        bottom: 10%;
        background-color: #000000;
        color: #ffffff;
        border: 1px solid black;
        display: flex;
        justify-content: center;
        align-items: center;
      }
      #bottom-board {
        position: relative;
        width: 96%;
        height: 90%;
        left: 2%;
        right: 2%;
        top: 8%;
        bottom: 10%;
        background-color: #000000;
        color: #ffffff;
        border: 1px solid black;
        display: flex;
        justify-content: center;
        align-items: center;
      }
      #board {
        width: 49%;
        height: 74%;
        border-collapse: collapse;
        margin: 0 auto;
      }
      .cell {
        width: 30%;
        height: 30%;
        border: 1px solid;
        text-align: center;
        vertical-align: middle;
        line-height: 20%;
        cursor: pointer;
        color: white;
        font-size: calc(100px * 0.6);
      }
    </style>
  </head>
  <body>
    <div id="tris-game" style="display: none">
      <table id="board"></table>
      <button onclick="resetBoard()">Reset</button>
    </div>
    <div id="bottom-board">
      <input
        id="player2-username-tris"
        type="text"
        style="display: none"
        class="btn btn-left btn-block btn-lg"
        placeholder="Insert Player2 Nick"
      />
      <button
        id="submit-username-tris"
        type="button"
        class="btn btn-right btn-lg btn-block"
        style="display: none"
      >
        Submit
      </button>
      <button
        id="play-tris-1v1"
        type="button"
        class="btn-nohover btn btn-left btn-lg btn-block"
      >
        Play 1v1
      </button>
      <button
        id="play-tris-tournament"
        type="button"
        class="btn-nohover btn btn-right btn-lg btn-block"
      >
        Play Tournament
      </button>
    </div>
    <div class="open_text" style="display: none">
      The game is over. The winner is: <span id="winner"></span>
    </div>
    <button
      id="NextMatch"
      style="display: none"
      class="btn btn-left btn-lg btn-block"
    ></button>
    <script>
      var board = Array(3)
        .fill()
        .map(() => Array(3).fill(""));
      var currentPlayer = "X";

      function createBoard() {
        var table = document.getElementById("board");
        table.innerHTML = "";
        for (var i = 0; i < 3; i++) {
          var row = table.insertRow();
          for (var j = 0; j < 3; j++) {
            var cell = row.insertCell();
            cell.innerHTML = board[i][j];
            cell.classList.add("cell");
            cell.addEventListener("click", cellClick);
          }
        }
      }

      function cellClick() {
        var col = this.cellIndex;
        var row = this.parentNode.rowIndex;
        if (board[row][col] == "") {
          board[row][col] = currentPlayer;
          currentPlayer = currentPlayer == "X" ? "O" : "X";
          createBoard();
          checkWin();
        }
      }

      function checkWin() {
        for (var i = 0; i < 3; i++) {
          if (
            board[i][0] == board[i][1] &&
            board[i][1] == board[i][2] &&
            board[i][0] != ""
          ) {
            alert(board[i][0] + " wins!");
            resetBoard();
          }
          if (
            board[0][i] == board[1][i] &&
            board[1][i] == board[2][i] &&
            board[0][i] != ""
          ) {
            alert(board[0][i] + " wins!");
            resetBoard();
          }
        }
        if (
          board[0][0] == board[1][1] &&
          board[1][1] == board[2][2] &&
          board[0][0] != ""
        ) {
          alert(board[0][0] + " wins!");
          resetBoard();
        }
        if (
          board[0][2] == board[1][1] &&
          board[1][1] == board[2][0] &&
          board[0][2] != ""
        ) {
          alert(board[0][2] + " wins!");
          resetBoard();
        }
      }

      function resetBoard() {
        board = Array(3)
          .fill()
          .map(() => Array(3).fill(""));
        currentPlayer = "X";
        createBoard();
      }

      createBoard();
    </script>
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script>
      window.onload = function () {
        document
          .getElementById("play-tris-1v1")
          .addEventListener("click", function () {
            document.getElementById("play-tris-1v1").style.display = "none";
            document.getElementById("play-tris-tournament").style.display =
              "none";
            document.getElementById("player2-username-tris").style.display =
              "block";
            document.getElementById("submit-username-tris").style.display =
              "block";
          });

        document
          .getElementById("submit-username-tris")
          .addEventListener("click", function () {
            var username = document.getElementById(
              "player2-username-tris"
            ).value;

            if (username) {
              document.getElementById("userright").textContent = username;
              document.getElementById("player2-username-tris").style.display =
                "none";
              document.getElementById("submit-username-tris").style.display =
                "none";
              document.getElementById("tris-game").style.display = "block";
              document.getElementById("bottom-board").style.display = "none";
            } else {
              alert("Please enter a username for player 2.");
            }
          });
      };
    </script>
  </body>
</html>
